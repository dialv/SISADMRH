<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head lang="en">
    <title>SISADMRH-Crear Asistencia Capacitación</title>
    <th:block th:include="../templates/header"></th:block>
   
</head>
<body>
    <script> Textheader('pnt_asca',document.title);</script>
<!--     <div ><label  >pnt_asca</label> </div>
       <label  class="der">
    <script >
var f = new Date();
document.write(f.getDate() + "/" + (f.getMonth() +1) + "/" + f.getFullYear());
</script></label>
</div><br>-->
    <div class="row">
        <div class="col-md-3">
            <th:block th:include="../templates/menu"></th:block>
        </div> 
        <div class="col-md-8">
             <br><br>
          <div class="row text-center">
                        <img src="../../static/image/asistencia.png" width="150" th:src="@{/image/asistencia.png}"/>
            <h3 align="center"></h3>
            <div>
                <form class="form-horizontal" id="formascap" th:object="${asistencia}" th:action="@{../../asistenciacapacitacion}" method="post">
                    
                     <input type="hidden" name="codigocuadrodirectivo"/>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">Capacitación:</label>
                        <div class="col-sm-6" >
                            <input class="col-sm-2" id="idasistencia" type="hidden" th:each="capacitacion: ${capacitaciones}"  th:value="${capacitacion.codigocapacitacion}" name="codigocapacitacion"/>
                            <input type="text" readonly size="50" maxlength="50"  class="form-control" required="true" th:each="capacitacion: ${capacitaciones}"  th:value="${capacitacion.nombrecapacitacion}" />
                        
<!--                            <select class="form-control" name="codigocapacitacion.codigocapacitacion" >
                                <option th:each="c:${formasistenciacapacitancion.capacitaciones}" th:value="${c.codigocapacitacion}" th:text="${c.nombrecapacitacion}"></option>
                            </select>-->
                            <!--<input type="text" class="form-control" onkeypress="return valida(event)" th:field="*{codigoempleado.codigoempleado}"/>-->
                        </div>
                        <div class="popup col-sm-1"><b>
                            <a id="" class="btnayuda btn btn-info" href="#" onmouseover="javascript:mostrarAyuda('capacitacion')" onmouseout ="javascript:ocultarAyuda('capacitacion')">a</a></b>
                        
                        <span class="popuptext" id="capacitacion">Seleccione la Capacitacion de la Lista.!</span>
                    </div>
                    </div>

 
<!--                     <div class="form-group">
                        <label class="col-sm-2 control-label ">Codigo empleado:</label>
                        <div class="col-sm-3">
                            <input type="text" class="form-control numeros" required="true" name="codigoempleado"/>
                        </div>
                          <div class="popup col-sm-1"><b>
                            <a id="" class="btnayuda btn btn-info" href="#" onmouseover="javascript:mostrarAyuda('codigoempleado')" onmouseout ="javascript:ocultarAyuda('codigoempleado')">a</a></b>
                        
                        <span class="popuptext" id="codigoempleado">Seleccione el código empleado, debe ser los digitos del 1 al 9.!</span>
                    </div>
                    </div>-->

                   
                                 <div class="form-group">
                        <label class="col-sm-2 control-label">Empleado:</label>
                        <div class="col-sm-6">
                            <!--<select class="form-control" id="combo" th:field="*{asistenciaCapacitacion.codigoempleado.codigoempleado}" >-->
                            <select class="form-control" id="combo"  name="codigoempleado">
                            <option value="0">-- Seleccione un empleado --</option>
                            <option th:each="empleado:${empleados}" th:value="${empleado.codigoempleado}" th:text="${empleado.nombreempleado}"></option>
                            </select>
                            <!--<input type="text" class="form-control" th:field="*{formasistenciacapacitancion.codigoempleado.codigoempleado}"/>-->
                            <!--<input type="text" class="form-control" th:field="*{formasistenciacapacitancion.codigoempleado.codigoempleado}"/>-->
                        </div>
                          <div class="popup col-sm-1"><b>
                            <a id="" class="btnayuda btn btn-info" href="#" onmouseover="javascript:mostrarAyuda('codempledo')" onmouseout ="javascript:ocultarAyuda('codempledo')">a</a></b>
                        
                        <span class="popuptext" id="codempledo">Seleccione El empleado de la lista de la Lista.!</span>
                    </div>
                                        </div>
                     <div class="form-group">
                        <label class="col-sm-2 control-label ">Horas Recibidas:</label>
                        <div class="col-sm-2">
                            <input type="text" readonly class="form-control numeros" required="true" maxlength="3" name="horasrecibidass" th:each="capacitacion: ${capacitaciones}"  th:value="${capacitacion.duracionhoracapacitacion}"/>
                        </div>
                             <div class="popup col-sm-1"><b>
                            <a id="" class="btnayuda btn btn-info" href="#" onmouseover="javascript:mostrarAyuda('horas')" onmouseout ="javascript:ocultarAyuda('horas')">a</a></b>
                        
                        <span class="popuptext" id="horas">Ingrese las horas, solo la combinacion de digitos del 0 al 9.!</span>
                    </div>
                    </div>
                   
                    <div class="form-group">
                        <label class="col-sm-2 control-label ">Puesto:</label>
                        <div class="col-sm-6">
                            <input readonly type="text" id="puesto" class="form-control" maxlength="50"required="true" />
                        </div>
                             <div class="popup col-sm-1"><b>
                            <a id="" class="btnayuda btn btn-info" href="#" onmouseover="javascript:mostrarAyuda('puestos')" onmouseout ="javascript:ocultarAyuda('puestos')">a</a></b>
                        
                        <span class="popuptext" id="puestos">Ingrese el puesto, solo se aceptan 50 caracteres.!</span>
                    </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label ">Ubicación Física:</label>
                        <div class="col-sm-6">
                            <input readonly type="text" id="ubicacion" class="form-control " size="50" maxlength="50"required="true" name="ubicacionasistenciacapacitacions" />
                        </div>
                             <div class="popup col-sm-1"><b>
                            <a id="" class="btnayuda btn btn-info" href="#" onmouseover="javascript:mostrarAyuda('ubicacionn')" onmouseout ="javascript:ocultarAyuda('ubicacionn')">a</a></b>
                        
                        <span class="popuptext" id="ubicacionn">Seleccione El empleado de la Lista.!</span>
                    </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label ">Telefono Fijo</label>
                        <div class="col-sm-2">
                            <input readonly type="text" id="telefonofijo" class="form-control num_telefono" required="true" name="telefonof"/>
                        </div>
                             <div class="popup col-sm-1"><b>
                            <a id="" class="btnayuda btn btn-info" href="#" onmouseover="javascript:mostrarAyuda('telefonof')" onmouseout ="javascript:ocultarAyuda('telefonof')">a</a></b>
                        
                        <span class="popuptext" id="telefonof">Ingrese el Numero de telefono. solo se Permiten digitos del 0 al 9.!</span>
                    </div>
                    </div>

                <div class="form-group">
                        <label class="col-sm-2 control-label ">Telefono Movil:</label>
                        <div class="col-sm-2">
                            <input readonly type="text" id="telefonomovil" class="form-control num_telefono" required="true" name="telefonom"/>
                        </div>
                             <div class="popup col-sm-1"><b>
                            <a id="" class="btnayuda btn btn-info" href="#" onmouseover="javascript:mostrarAyuda('telefonom')" onmouseout ="javascript:ocultarAyuda('telefonom')">a</a></b>
                        
                        <span class="popuptext" id="telefonom">Ingrese el Numero de telefono. solo se Permiten digitos del 0 al 9.!</span>
                    </div>
                    </div>



                    <div class="form-group">
                        <label class="col-sm-2 control-label">Correo:</label>
                        <div class="col-sm-6">
                            <input readonly type="email" id="emaile" class="form-control" size="50" minlength="50" required="true" name="emails"/>
                        </div>
                             <div class="popup col-sm-1"><b>
                            <a id="" class="btnayuda btn btn-info" href="#" onmouseover="javascript:mostrarAyuda('correo')" onmouseout ="javascript:ocultarAyuda('correo')">a</a></b>
                        
                        <span class="popuptext" id="correo">Ingrese el correo. Solo se aceptan 20 caracteres, es Obligatorio la @.!</span>
                    </div>
                    </div>



                    <!--             <div class="form-group">
                                    <label class="col-sm-2 control-label">Responsable del Comite:</label>
                                                         <div class="col-sm-10">
                                                             <select class="form-control" th:field="*{codigocapacitacion.codigocapacitacion}" >
                                                    <option th:each="c:${capacitaciones}" placeholder="Seleccionar capacitacion" th:value="${c.codigocapacitacion" th:text="${c. nombrecapacitacion}"></option>
                                                </select>
                                   <input type="number" class="form-control" th:field="*{codigoempleado.codigoempleado}"/>
                                                              </div>
                                                    </div>-->


                    <div class="col-md-12">
                        <div class="row" align="center">
                           
                              <button type="button" class="btn btn-primary" ><span class="glyphicon glyphicon-arrow-left">Regresar</span><a href="#" th:href="@{/asistenciacapacitaciones/}">Reg</a></button>
                            <button type="submit" class="btn btn-success"><span class="glyphicon glyphicon-floppy-disk"></span>Guardar</button>
                            <button type="reset" class="btn btn-secondary"><span class="glyphicon glyphicon-erase"></span>Limpiar</button>
                        
                        </div>
                    </div>
                </form>
<!--        <form class="form-horizontal" id="formp" >
         <input  readonly id="idasistencia" type="hidden"  th:each="emcapList, 0 : ${emcapLists}" th:value="${emcapList[__${5}__]}"  />
        <div class="table-responsive">
            <table id="tablita" class="table table-striped table-bordered" >
                <thead>
                  <table class="table table-striped">
                      <tr>
                          <th>Nombre de Capacitacion</th>
                          <th>Nombre empleado</th>
                          <th>Ubicacion</th>
                          <th>Quitar</th>
                          
                      </tr>
                </thead>
                      <tr th:each="emcapList, i : ${emcapLists}">
                          <td th:text= "${emcapList[__${0}__]}">nombrecapacitacion</td>
                          <td th:text= "${emcapList[__${1}__]}+ ' ' +${emcapList[__${2}__]}">nombrecapacitacion</td>
                          <td th:text= "${emcapList[__${3}__]}">nombrecapacitacion</td>
                          <td><a th:onclick="'eliminar(\'' +${emcapList[__${4}__]} +'\');'" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span></a></td>
                          
                          <td th:text="${iStat.nombrecapacitacion}">Nombre ca</td>
                          <td th:text="${iStat.nombreempleado}">Nombre empleado</td>
                          <td th:text="${iStat.ubicacionasistenciacapacitacion}">Ubicacion</td>
                          <td th:text="${empleadoasistenciacapacitacion.asistenciacapacitacion.codigoasistenciacapacitacion}">Codigo</td>
                          <td><a th:href="${'./delete/' + usuario.codigousuario}" class="btn btn-danger">Delete</a></td>
                      </tr>

                  </table>
              </div>
     
            <div class="row" align="center">
                <button type="button" id="btnRegresar" class="btn btn-primary"> <span class="glyphicon glyphicon-arrow-left"></span>Regresar</button>
            </div>
         </form>-->
            </div>

        </div>
    </div>

    <script th:inline="javascript">
 
        
        $(document).ready(function () {
            Textheader('pnt_asca',document.title);
            $('#fechadesdecomite').datepicker({
                dateFormat: 'yy-mm-dd'
            });

            $('#fechahastacomite').datepicker({
                dateFormat: 'yy-mm-dd'
            });
            $('#combo').change(function(){
                 $.ajax({
                    url : '../../llenadocombo/' + $( this ).val().toString(),
                    success : function(data) {
                        $('#ubicacion').val(data[1]);
                        $('#puesto').val(data[0]);
                        $('#telefonofijo').val(data[2]);
                        $('#telefonomovil').val(data[3]);
                        $('#emaile').val(data[4]);
                    },
                    error: function() {
                        $('#ubicacion').val("");
                        $('#puesto').val("");
                         $('#telefonofijo').val("");
                        $('#telefonomovil').val("");
                        $('#emaile').val("");
                    }
        });
        });
        });
    </script>
 <script th:inline="javascript">
        $(document).ready(function () {
    if([[${msg}]]===3){
       swal({
           
                title: "Exito!",
                text: "Registro Eliminado correctamente",
                type: "success",
                icon: "success",
       }).then(function() {
                location.href = '../empleadoasistenciacapacitaciones/';
       }); 
}
    
    if([[${msg}]]===4){
        swal({
                title: "ERROR!",
                text: "Ocurrio un error al eliminar el registro",
                type: "error",
                icon: "error"
       });
    }
    });
        
        function eliminar(id) {
            swal({
                title: "Desea Eliminar?",
                text: "favor confirme que desea eliminar este registro!",
                icon: "warning",
                buttons: true,
                dangerMode: true,
            })
                    .then((willDelete) => {
                        if (willDelete) {
                            location.href = '../../delete/'+$("#idasistencia").val()+'/' + id;
                        } else {
                            swal("Accion cancelada", "se ha cancelado la operaacion de eliminado", "error");
                        }
                    });
        }
    </script>
</body>	
</html>